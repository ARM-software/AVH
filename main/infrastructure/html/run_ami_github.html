<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Run AMI with GitHub Actions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td style="padding: 1em;"id="projectlogo"><img alt="Logo" src="arm.png"/></td>
  <td style="padding-left: 2em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Virtual Hardware
   &#160;<span id="projectnumber">Version 0.2 - beta</span>
   </div>
   <div id="projectbrief">Infrastructure Service and Tool Integration</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="Compnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('run_ami_github.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Run AMI with GitHub Actions </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_src_github"></a> GitHub Actions help you automate tasks within your software development life cycle. GitHub Actions are event-driven, meaning that you can run a series of commands after a specified event has occurred. For example, every time someone commits a push or creates a pull request for a repository, you can automatically run the Arm VHT Services that execute automated build or test scripts. Refer to <a href="https://docs.github.com/en/actions/learn-github-actions/introduction-to-github-actions">Introduction to GitHub Actions</a> for information about the components of GitHub Actions.</p>
<p >There are several different ways to execute GitHub Actions:</p><ul>
<li><a href="./#self_hosted"><b>Self-hosted GitHub runners</b></a> where the complete GitHub Action is executed on an AWS EC2 Linux instance.</li>
<li><a href="./#GitHub_hosted"><b>GitHub-hosted runners</b></a> where only a part of the GitHub Action (for example testing) is executed on an AWS EC2 Linux instance.</li>
</ul>
<p >The approach that you should choose depends on your CI/CD requirements.</p>
<h1><a class="anchor" id="self_hosted"></a>
Self-hosted GitHub Runners</h1>
<p >The following steps explain how to use <b>self-hosted GitHub runners</b> with <a href="https://aws.amazon.com/marketplace/search/results?searchTerms=Arm+Virtual+Hardware">AWS Marketplace: Arm Virtual Hardware</a>.</p>
<ol type="1">
<li><a href="#self-hosted1"><b>Setup Github</b></a> to obtain a control point for your runner.</li>
<li><a href="#self-hosted2"><b>Setup AWS EC2 Instance</b></a>, install and connect the runner agent.</li>
<li><a href="#self-hosted3"><b>Add github actions</b></a> to your GitHub repository and configure it for your requirements.</li>
</ol>
<h2><a class="anchor" id="self-hosted1"></a>
Setup Github</h2>
<p >From your github repository on github.com, go to Settings &gt; Actions &gt; Runners &gt; New self-hosted runner. Make sure you have selected "Operating System: Linux x86" and follow the instructions of <a href="#self-hosted2">Setup AWS EC2 Instance</a>.</p>
<h2><a class="anchor" id="self-hosted2"></a>
Setup AWS EC2 Instance</h2>
<p >Before you start with the following steps, make sure you created an EC2 instance on your AWS account. For instructions, see: <a href="https://arm-software.github.io/VHT/main/infrastructure/html/run_ami_local.html#Launch_EC2">Launch through EC2</a>.</p>
<ol type="1">
<li>Open an SSH connection as described on: <a href="https://arm-software.github.io/VHT/main/infrastructure/html/run_ami_local.html#connect">Connect to the EC2 instance</a></li>
</ol>
<p >Follow these steps on SSH:</p>
<ol type="1">
<li>Gain proper permissions: <code>sudo -u ubuntu bash &amp;&amp; cd /home/ubuntu</code></li>
<li>Download the latest installer: <code>curl -o actions-runner-linux-x64-2.283.3.tar.gz -L <a href="https://github.com/actions/runner/releases/download/v2.283.3/actions-runner-linux-x64-2.283.3.tar.gz">https://github.com/actions/runner/releases/download/v2.283.3/actions-runner-linux-x64-2.283.3.tar.gz</a></code></li>
<li>Extract the installer: <code>tar xzf ./actions-runner-linux-x64-2.283.3.tar.gz</code></li>
<li>Create the runner instance with the personal token shown on github. Copy and paste the instruction from github. It will look similar to: <code>./config.sh --url <a href="https://github.com/myuser/myproject">https://github.com/myuser/myproject</a> --token ABCDEFGHIJKLMNOP</code></li>
<li>Launch the runner: <code>./run.sh</code></li>
</ol>
<h2><a class="anchor" id="self_hosted3"></a>
Add GitHub Action</h2>
<p >Using the github runner is very simple. All jobs in the workflow file that should be executed on the EC2 instance via the runner, need to have the <b>runs-on</b> parameter added:</p>
<div class="fragment"><div class="line"> {runs-on:}</div>
<div class="line"> </div>
<div class="line">## This is a sample workflow for projects that run on an self-hosted runner:</div>
</div><!-- fragment --><p> name: Arm Virtual Hardware example</p>
<p >on: push: branches: [ main ] pull_request: branches: [ main ]</p>
<h1><a class="anchor" id="autotoc_md8"></a>
To allow you to run this workflow manually from the GitHub Actions tab add</h1>
<p >workflow_dispatch:</p>
<p >jobs: ci_demonstration: runs-on: self-hosted env: working-directory: ${{ github.workspace }}/Platform_FVP_Corstone_SSE-300_Ethos-U55/ steps:</p><ul>
<li>name: Check out repository code uses: actions/checkout@v2</li>
<li>name: What has been cloned? run: echo "${{ github.repository }} has been cloned."</li>
<li>name: Get dependencies run: cp_install.sh packlist working-directory: ${{env.working-directory}}</li>
<li>name: Build the micro_speech example run: cbuild.sh microspeech.Example.cprj working-directory: ${{env.working-directory}}</li>
<li>name: Run the micro_speech example run: ./run_example.sh working-directory: ${{env.working-directory}} <div class="fragment"><div class="line">Once this steps are completed, any commit or pull request to the repository should trigger the *CI* workflow that you have defined.</div>
<div class="line">Make sure that the EC2 instance is up and in running state, for the github runner to be available to your actions.</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"># GitHub-hosted Runners {#GitHub_hosted}</div>
<div class="line"> </div>
<div class="line">The following steps explain how to use **GitHub-hosted runners** with [AWS Marketplace: Arm Virtual Hardware](https://aws.amazon.com/marketplace/pp/prodview-urbpq7yo5va7g).</div>
<div class="line">The github-hosted runner will run the action on an github-hosted VM instance. A plugin is provided to provide remote execution on Arm Virtual Hardware. The plugin manages connection, upload and execution of a test suite on Amazon EC2 Linux instance that runs an \ref AWS &quot;Arm VHT AMI&quot;. It also provides run-control of the EC2 instance itself, starting and stopping on demand.</div>
<div class="line"> </div>
<div class="line">![VHT GitHub action](./images/Github-GH-AWS.png &quot;VHT GitHub action for AMI integration&quot;)</div>
<div class="line"> </div>
<div class="line">  1. [**Create user roles on AWS IAM**](github_hosted1)</div>
<div class="line">  2. [**Setup AWS EC2 Instance**](#github_hosted2), obtain the *access information*.</div>
<div class="line">  3. [**Add GitHub Secrets**](#github_hosted3) with the *access information* to your GitHub repository with gives access to the AWS EC2 instance.</div>
<div class="line">  4. [**Add GitHub Action**](#github_hosted4) to your GitHub repository and configure it for your requirements.</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">The VHT-AMI action receives a *.tar input file (vht_in) that contains the vht.yml control file. The vht.yml is the run control commands for the AMI and defines the execution of build scripts or test runs. Once the AMI run control commands are complete the results are returned as *.tar file to the GitHub runner.</div>
<div class="line"> </div>
<div class="line">The file [action.yml](https://github.com/ARM-software/VHT-AMI/blob/master/action.yml) defines the parameters for the GitHub action.</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">## Create user roles on AWS IAM </div>
<div class="line">The following AWS account requirements are needed to run VHT-AMI action.</div>
<div class="line"> </div>
<div class="line">1. ### Create Identity and Access Management (IAM) User</div>
<div class="line">You have to create an IAM User to limit resource permission to your CI. In addition, the IAM User provides fixed `AWS Access Key Id` and `AWS Secret access key` values. </div>
<div class="line"> </div>
<div class="line">**Make notes of the the users credentials as you will need them in futures steps of the setup.**</div>
<div class="line"> </div>
<div class="line">For this user, you have to add the following `policies`:</div>
<div class="line">- vht-passrole (created before)</div>
<div class="line">- AmazonEC2FullAccess (AWS managed policy --&gt; It already exists in your account)</div>
<div class="line">- AmazonS3FullAccess (AWS managed policy --&gt; It already exists in your account)</div>
<div class="line">- AmazonSSMFullAccess (AWS managed policy --&gt; It already exists in your account)</div>
<div class="line"> </div>
<div class="line">You also need to add the following `Permission boundary`:</div>
<div class="line">- PowerUserAccess</div>
<div class="line"> </div>
<div class="line">The user can be called `vht`.</div>
<div class="line"> </div>
<div class="line">More information on the AWS documentation: [Create IAM User](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html)</div>
<div class="line"> </div>
<div class="line">2. ### Create PassRole policy for VHT-AMI</div>
<div class="line">You need to create a PassRole IAM policy to be attached to our IAM User with the following content.</div>
<div class="line">You can name it `vht-passrole`.</div>
<div class="line">```json</div>
<div class="line">{</div>
<div class="line">    &quot;Version&quot;: &quot;2012-10-17&quot;,</div>
<div class="line">    &quot;Statement&quot;: [</div>
<div class="line">        {</div>
<div class="line">            &quot;Effect&quot;: &quot;Allow&quot;,</div>
<div class="line">            &quot;Action&quot;: &quot;iam:PassRole&quot;,</div>
<div class="line">            &quot;Resource&quot;: &quot;*&quot;</div>
<div class="line">        }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p >More information on the AWS documentation: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html">Create IAM Policy</a></p>
<ol type="1">
<li>### Create an IAM Role For EC2 Services You have to create IAM Role to be attached to the EC2 Instances. This role gives EC2 Instances access to S3 buckets and SSM services. For this role, you have to add the following <code>policies</code>:</li>
</ol>
<ul>
<li>AmazonS3FullAccess</li>
<li>AmazonSSMFullAccess</li>
</ul>
<p >You also need to add the following <code>Permission boundary</code>:</p><ul>
<li>PowerUserAccess</li>
</ul>
<p >More information on the AWS documentation: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html">Create IAM Role For Service</a></p>
<h2><a class="anchor" id="autotoc_md9"></a>
Setup AWS EC2 Instance</h2>
<p >Make sure you created an EC2 instance on your AWS account. For instructions, see: <a href="https://arm-software.github.io/VHT/main/infrastructure/html/run_ami_local.html#Launch_EC2">Launch through EC2</a>. Once created you need to make notes of the Instance ID, for later reference. You can stop the machine once it has reached running state. The plugin will start the machine on demand.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Setup AWS S3 Instance</h2>
<p >Use the AWS console to create an S3 storage with default options. Note the name to specify it the the parameters of the actions afterwards.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Add Github Secrets</h2>
<p >Add the information from the last to steps to the secrets of your github repository. Secrets cannot be reviewed and are a secure way of providing the access credentials to the plugin.</p>
<p >From your github repository on github.com, go to Settings &gt; Secrets &gt; Actions &gt; New repository secret.</p>
<p >We recommend to add the Instance ID of the EC2 instance, and the IAM Access key pair into secrets with the following names: AWS_INSTANCE_ID AWS_ACCESS_KEY AWS_ACCESS_KEY_SECRET</p>
<p >More information on github documentation: <a href="https://docs.github.com/en/actions/reference/encrypted-secrets#creating-encrypted-secrets-for-a-repository">Creating encrypted secrets for a repository</a></p>
<h2><a class="anchor" id="autotoc_md12"></a>
Add Github Action</h2>
<p >The basic idea of creating a github-hosted CI flow is to run steps on the github VM instance - except build and execution of test cases. The testsuite contains of a collection of files that are required on the VHT instance on AWS and a yaml-based inventory file, that includes instructions. This file is called <b>vht.yml</b>. It will mark the root of a folder used to stage a testsuite on the Github VM.</p>
<p >A complete example workflow is found in the example hosted on: <a href="https://github.com/ARM-software/VHT-TFLmicrospeech">https://github.com/ARM-software/VHT-TFLmicrospeech</a></p>
<h3><a class="anchor" id="autotoc_md13"></a>
Prepare the testsuite</h3>
<p >Steps before the actual execution should copy every file required to staging folder. It will then be passed in the vht_in parameter. File and path references in the vht.yml should be relative to the root of this folder, where also the vht.yml needs to be placed.</p>
<p >Refer to <a href="https://github.com/ARM-software/VHT-TFLmicrospeech/blob/main/.github/workflows/virtual_hardware_gh.yml">https://github.com/ARM-software/VHT-TFLmicrospeech/blob/main/.github/workflows/virtual_hardware_gh.yml</a> for some detailed example.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
The vht.yml</h3>
<p >vht.yml describes the content of the testsuite, assets, build and test run instructions. It is located in the root of the folder specified in vht_in. Its format is YAML (<a href="https://yaml.org/spec/">https://yaml.org/spec/</a>)</p>
<h3><a class="anchor" id="autotoc_md15"></a>
The YAML structure</h3>
<div class="fragment"><div class="line">suite:</div>
<div class="line">  name: &lt;value&gt;</div>
<div class="line">  model: &lt;value&gt;</div>
<div class="line">  configuration: &lt;value&gt;</div>
<div class="line">  pre: &lt;value&gt;</div>
<div class="line">  post: &lt;value&gt;</div>
<div class="line"> </div>
<div class="line">  builds:</div>
<div class="line">   - &quot;&lt;value&gt;&quot;:</div>
<div class="line">      shell: &lt;value&gt;</div>
<div class="line">      pre: &lt;value&gt;</div>
<div class="line">      post: &lt;value&gt;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  tests:</div>
<div class="line">   - &quot;&lt;value&gt;&quot;:</div>
<div class="line">      executable: &lt;value&gt;</div>
<div class="line">      arguments: &lt;value&gt;</div>
<div class="line">      pre: &lt;value&gt;</div>
<div class="line">      post: &lt;value&gt;</div>
<div class="line">      timeout: &lt;value&gt;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md16"></a>
&lt;strong&gt;suite&lt;/strong&gt;</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">keyword   </th><th class="markdownTableHeadNone">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">suite   </td><td class="markdownTableBodyNone">Starts the declaration of a testsuite    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">name   </td><td class="markdownTableBodyNone">Name of the testsuite    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">model   </td><td class="markdownTableBodyNone">Executable name of the FVP used    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">configuration   </td><td class="markdownTableBodyNone">Configuration file for the FVP    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pre   </td><td class="markdownTableBodyNone">Execute command on shell before suite or test    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">post   </td><td class="markdownTableBodyNone">Execute command on shell after suite or test   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md17"></a>
&lt;strong&gt;builds&lt;/strong&gt; (optional)</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">keyword   </th><th class="markdownTableHeadNone">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">builds   </td><td class="markdownTableBodyNone">Starts a list of build declarations    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">shell   </td><td class="markdownTableBodyNone">Execute command on shell that builds executable    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pre   </td><td class="markdownTableBodyNone">Execute command on shell before suite or test    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">post   </td><td class="markdownTableBodyNone">Execute command on shell after suite or test   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md18"></a>
&lt;strong&gt;tests&lt;/strong&gt;</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">keyword   </th><th class="markdownTableHeadNone">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">tests   </td><td class="markdownTableBodyNone">Starts a list of test declarations    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">executable   </td><td class="markdownTableBodyNone">ELF format executable file to be executed on test    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">arguments   </td><td class="markdownTableBodyNone">Additional arguments passed to FVP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">timeout   </td><td class="markdownTableBodyNone">Optional timeout for test    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">pre   </td><td class="markdownTableBodyNone">Execute command on shell before suite or test    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">post   </td><td class="markdownTableBodyNone">Execute command on shell after suite or test   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md19"></a>
Example</h3>
<div class="fragment"><div class="line">suite:</div>
<div class="line">  name: &quot;Tensorflow lite micro examples&quot;</div>
<div class="line">  model: &quot;/opt/arm_vsi/arm_vsi.x&quot;</div>
<div class="line">  configuration: &quot;&quot;</div>
<div class="line">  pre: &quot;&quot;</div>
<div class="line">  post: &quot;&quot;</div>
<div class="line"> </div>
<div class="line">  builds:</div>
<div class="line">   - &quot;microspeech example&quot;:</div>
<div class="line">      shell: &quot;cbuild.sh ./Platform_FVP_Corstone_SSE-300_Ethos-U55/microspeech.Example.cprj&quot;</div>
<div class="line">      post: &quot;cp ./Platform_FVP_Corstone_SSE-300_Ethos-U55/Objects/microspeech.axf ./elf/&quot; </div>
<div class="line"> </div>
<div class="line">  tests:</div>
<div class="line">   - &quot;microspeech example&quot;:</div>
<div class="line">      executable: &quot;./elf/microspeech.axf&quot;</div>
<div class="line">      arguments: &quot;-V ./VSI/audio/python -f fvp_config.txt -a Objects/microspeech.axf --stat $*&quot;</div>
<div class="line">      pre: &quot;&quot;</div>
<div class="line">      post: &quot;&quot;</div>
<div class="line">      timeout: 20</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md20"></a>
Use Action</h3>
<p >You can now consume the action by referencing the v1 branch...</p>
<div class="fragment"><div class="line">uses: Arm-Software/VHT-AMI@v1</div>
<div class="line">with:</div>
<div class="line">  vht_in:</div>
<div class="line">  instance_id: ${{ secrets.AWS_INSTANCE_ID }}</div>
<div class="line">  access_key_id: ${{ secrets.AWS_INSTANCE_ID }}</div>
<div class="line">  secret_key_id: ${{ secrets.AWS_ACCESS_KEY_SECRET }}</div>
<div class="line">  aws_region: &quot;eu-west-1&quot;</div>
<div class="line">  s3_bucket_name: my_bucket</div>
</div><!-- fragment --><p ><b>Where</b></p>
<ul>
<li>vht_in is the folder to the staged files, with vht.yml in root.</li>
<li><em>secrets.AWS_INSTANCE_ID</em> is the instance ID of the AMI stored as GitHub secret.</li>
<li><em>secrets.AWS_ACCESS_KEY_ID</em> is the access key to AMI stored as GitHub secret.</li>
<li><em>secrets.AWS_SECRET_KEY</em> is the secret key to AMI stored as GitHub secret.</li>
<li>aws_region: name of the region your EC2 and S3 instances are located</li>
<li>s3_bucket_name: for temporary storage an S3 bucket is used </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	Copyright &copy; 2021 Arm Limited (or its affiliates). All rights reserved.
	<!-- Use script below for auto-inserting date, project name, version, etc  -->
	<!-- <script type="text/javascript">
        writeFooter.call(this);
    </script> -->
    </li>
  </ul>
</div>
</body>
</html>

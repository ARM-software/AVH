<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simulation: Virtual Hardware Targets</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="$extra_stylesheet" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1em;"><img alt="Logo" src="arm.png"/></td>
  <td style="padding-left: 2em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Virtual Hardware
   &#160;<span id="projectnumber">Version 0.2 - beta</span>
   </div>
   <div id="projectbrief">Simulation Models with Virtual Interfaces for Test Automation</div>
  </td>
  <!--END !PROJECT_NAME-->
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="Compnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Virtual Hardware Targets </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The <b>Arm Virtual Hardware Targets (VHT)</b> provide a functional accurate simulation of an Arm-based SoC and can be automated for scalable deployment in the CI development flow. This virtual platform can be used standalone or with development tools such as <a href="https://developer.arm.com/tools-and-software/embedded/arm-development-studio" target="_blank"><b>Arm Development Studio</b></a> or <a href="https://developer.arm.com/tools-and-software/embedded/keil-mdk" target="_blank"><b>Arm Keil MDK</b></a> with debug and trace capabilities supported as well.</p>
<p >The <b>Arm Virtual Hardware Targets</b> are based on the Arm Fast Model technology and are extended FVP models that add virtual interfaces for peripheral emulation. In addition Arm VHT provides concepts to re-target applications from simulation models to physical hardware which simplifies to combine unit/integration tests with the final system integration.</p>
<h1><a class="anchor" id="Virtual_Interfaces"></a>
Virtual Interfaces</h1>
<p >The <b>Arm Virtual Hardware Targets</b> implement various Virtual Interfaces that can be used to stimulate the application under test.</p>
<p ><img src="Virtual_Interfaces.png" alt="" class="inline" title="Arm VHT Virtual Interfaces"/></p>
<ul>
<li>The <a class="el" href="group__arm__vio.html">Virtual Input/Output (VIO)</a> interface controls simple I/O such as LED and switches.</li>
<li>The <a class="el" href="group__arm__vsi.html">Virtual Streaming Interface (VSI)</a> provides up to 8 instances for data streaming.</li>
<li>The <a class="el" href="group__arm__vsocket.html">Virtual Socket Interface (VSocket)</a> connects the user application to <a href="https://en.wikipedia.org/wiki/Berkeley_sockets"><b>BSD sockets</b></a> on the Host computer for IP network connectivity.</li>
</ul>
<p >Both <a class="el" href="group__arm__vio.html">VIO</a> and <a class="el" href="group__arm__vsi.html">VSI</a> connect to Python and enable flexible scripting for test automation. Eight VSI interfaces are available and may be used in parallel to stream simultaneous multi-channel inputs and outputs. The interfaces are tailored for simulation, but can also map to physical target hardware.</p>
<p >In addition the <b>Event Recorder Capturing</b> provides an interface for the <a href="https://www.keil.com/pack/doc/compiler/EventRecorder/html/er_overview.html">Event Recorder</a> API. This software component enables event annotations in the application code or software component libraries. The <b>Event Recorder</b> provides visibility to the dynamic execution of an application, enables RTOS awareness, and <a href="https://www.keil.com/pack/doc/compiler/EventRecorder/html/group__Event__Execution__Statistic.html"><b>Event Execution Statistics</b></a> which helps to optimize the timing of complex algorithms.</p>
<h1><a class="anchor" id="Physical_Hardware"></a>
Physical Hardware</h1>
<p ><a href="https://en.wikipedia.org/wiki/Modular_programming"><b>Modular programming</b></a> recommends to separate the functionality of a program into independent, interchangeable modules that use defined interfaces that abstract the hardware functionality. This design concept simplifies code re-use and allows to implement <b>Virtual Drivers</b> and <b>Hardware Drivers</b> that expose the same API and implement the same logical behavior. If built correctly, it overcomes many issues that are typically found in monolithic software and enables a staged <a href="https://en.wikipedia.org/wiki/Software_testing">software validation</a> with multiple test levels such as unit, integration, and system testing.</p>
<p >To simplify re-targeting from <b>Arm Virtual Hardware Targets</b> to final production hardware, the examples implement the concept of software layers. As the next generation tooling will provide native support for program layers, it makes it easy to work on a combination of simulated and physical hardware. The picture below examplifies this concept.</p>
<p ><img src="Simulation2Hardware.png" alt="" class="inline" title="Arm VHT Re-target to Hardware"/></p>
<h1><a class="anchor" id="Development_Workflow"></a>
Development Workflow</h1>
<p >Using a flexible workflow that combines desktop and cloud-native development tools simplify the development workflow further. Using software layers, it is possible to possible to develop a new functionality with a physical board and the commit the changes to a cloud based version control system which executes a complete CI/CD integration flow. This ensures that new product innovations are thoroughly tested before they are integrate into final systems.</p>
<p ><img src="Workflow.png" alt="" class="inline" title="Development Workflow"/></p>
<p >This workflow mandates that a set of test cases are developed. For test case development and failure analysis, it is currently recommended to use desktop tools such as <a href="https://developer.arm.com/tools-and-software/embedded/keil-mdk">Keil MDK</a>. However, over time the more flexible <a href="https://www.keil.arm.com/">Keil Studio</a> will enable a hybrid work-style that allows to use cloud-native or desktop development workflows.</p>
<h1><a class="anchor" id="Development_Challanges"></a>
Development Challenges</h1>
<p >Naturally, the <b>Arm Virtual Hardware Targets</b> cannot simulate the exact behavior of every Arm Cortex processor-based microcontroller that is available today. However, the simulated targets overcome many challenges that users are facing with physical hardware. The <b>Arm Virtual Hardware Targets</b> make CI/CD economic for embedded applications and enable modern DevOps workflows that benefit from test automation. <br  />
</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Challenge   </th><th class="markdownTableHeadLeft">Solution    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Over 9000 different Arm based Microcontrollers are available and many have a comprehensive peripheral set along with sophisticated clock and power-down features. Is it possible to simulation bespoke Microcontroller peripherals? Can I validate device-specific drivers?   </td><td class="markdownTableBodyLeft">It is not economic to simulate specific microcontrollers, but with driver abstraction the behavior of software can be analyzed. The device-specific interfaces should be tested on final target hardware, but the more complex high-level software can be verified using Arm Virtual Hardware.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Arm Fast Models are not timing-accurate and the timing of the memory system is not simulated too. How is it possible to identify timing issues that may appear in final target hardware?   </td><td class="markdownTableBodyLeft">The simulation is not timing accurate but gives still a good approximation that can be validated using <a href="https://www.keil.com/support/man/docs/uv4/uv4_db_dbg_evr_stat.htm"><b>Event Statistics</b></a>. It is recommended to run simulation at lower clock frequency that maps to worst-case timing of final target hardware.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">The <b>Arm Virtual Hardware Services</b> provide a cloud-native infra-structure for software test and validation. But currently there is no debug possible with this CI/CD system. How are test cases developed and analysed?   </td><td class="markdownTableBodyLeft">Today, desktop tools (for example <a href="https://developer.arm.com/tools-and-software/embedded/keil-mdk">Keil MDK</a>) are required to develop test cases and debug failures. <a href="./index.html##Development_Workflow">Development Workflow</a> explains this process.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">The examples for <a class="el" href="group__arm__vsi.html">VSI</a> show currently Audio streaming. Is it possible to use this interface also for other data sources?   </td><td class="markdownTableBodyLeft">The <a class="el" href="group__arm__vsi.html">VSI</a> is a simple, but flexible interface that connects a generic streaming peripheral with Python for test script automation. It is today possible to develop own data streaming interfaces but we work on more examples that show the potential of this interface.   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	Copyright &copy; 2021-2022 Arm Limited (or its affiliates). All rights reserved.
	<!-- Use script below for auto-inserting date, project name, version, etc  -->
	<!-- <script type="text/javascript">
        writeFooter.call(this);
    </script> -->
    </li>
  </ul>
</div>
</body>
</html>
